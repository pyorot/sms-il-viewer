<!DOCTYPE html>
<html>
  <head>
    <base target="_blank" rel="noopener noreferrer">
    <title>SMS IL Tracker Viewer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/colour.css">
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/menu.css">
    <link rel="stylesheet" href="css/settings.css">
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="css/title.css">
    <link rel="stylesheet" href="css/table.css">
    <link rel="stylesheet" href="css/tooltip.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
  </head>
  <body ontouchstart="">
    <div id="main">

      <div id="menu">
        <div id="menuTitle">
          SMS ILs
        </div>
        <div id="menuPages">
          <input type="radio" id="radioPages-a" name="radioPages" value="a">
          <label for="radioPages-a">Overall</label>
          <input type="radio" id="radioPages-l" name="radioPages" value="l">
          <label for="radioPages-l">Levels</label>
          <input type="radio" id="radioPages-p" name="radioPages" value="p">
          <label for="radioPages-p">Players</label>    
        </div>
        <div id="menuToggles">
          <input type="checkbox" id="check-help" name="checkToggles">
          <label for="check-help" onclick="toggleHelp()"><div class="circle">?</div></label>
          <input type="checkbox" id="check-settings" name="checkToggles">
          <label for="check-settings" onclick="toggleSettings()">‚öôÔ∏è</label>
        </div>
        <div id="loadStatus">
          <i>loading... (should take ~3s)</i>
        </div>
      </div>

      <div id="settings">
        <div class="settingsCol">
          <div class="settingsRow">
            <div class="settingsLabel">score:</div>
            <input type="radio" id="radioScoring-p" name="radioScoring" value="p">
            <label for="radioScoring-p" onclick="setScoring('p')">p</label>
            <input type="radio" id="radioScoring-ppct" name="radioScoring" value="ppct">
            <label for="radioScoring-ppct" onclick="setScoring('ppct')">p%</label>
            <input type="radio" id="radioScoring-l1" name="radioScoring" value="l1">
            <label for="radioScoring-l1" onclick="setScoring('l1')">‚Ñì<sub>1</sub></label>
            <input type="radio" id="radioScoring-linf" name="radioScoring" value="linf">
            <label for="radioScoring-linf" onclick="setScoring('linf')">‚Ñì<sub>‚àû</sub></label>
          </div>
        </div>
        <div class="settingsCol">
          <div class="settingsRow">
            <label class="settingsLabel" onclick="toggleColours()">light / dark</label>
          </div>
        </div>
      </div>

      <div id="panelbottom">
        <div class="panelleft nav level" id="navLevel"></div>
        <div id="panelright">
          <div class="paneltop nav level" id="titleLevel"></div>
          <div class="paneltop nav aggregate" id="navAggregate"></div>
          <div class="paneltop nav player" id="navPlayer"></div>
          <div id="title"></div>
          <div id="lb"></div>
        </div>
      </div>

      <div id="panelbottomoverlay">
        <h2>Help</h2>
        <p>This IL viewer pulls from
        <a href="https://docs.google.com/spreadsheets/d/1M_X3fvZPhbeQ2H1Arm24sHbtwWY5LEozQ4SBcMWiGPw">this IL Tracker</a>;
        the JSON data endpoint is
        <a href="https://script.google.com/macros/s/AKfycbz3ihGMcxM65F3tfhXq38V_tkVdiLLJ9aIUl2sYSWiKQVALD1QTaHOPBsIQQQukrjE8ow/exec">here.</a>
        Here are some tips for fluid use of the app.</p>

        <h3>URL Navigation</h3>
        <p>Aside from the included menu controls, you can go straight to a
          leaderboard by adding its code to the main URL, after a <i>#</i>. E.g.:<br>
          <a href="#s4s" target="_self">https://smsilview.netlify.app#s4s</a></p>
        <p>These codes are formed from the short codes in the level menu, and
          full player/aggregate group names, with some characters modified;
          navigate to your desired page via the menus to check the code in the address bar.</p>
        <p>Navigating back/forward in the browser flicks through your visited leaderboards,
          but your sorting settings and last-viewed leaderboards on inactive tabs persist.</p>

        <h3>Sorting</h3>
        <p>Sortable columns will show up when hovering over their headers on desktop.
          Click them on any device to sort by that column.</p>
        
        <h3>Cross-Links</h3>
        <p>Any player or level can be clicked to go to an individual leaderboard.</p>

        <h3>Copying Notes</h3>
        <p>To view notes, hover over (desktop) or tap (iOS) the üìù emoji. To copy them,
          drag your mouse straight up (if desktop), then double-click the note.</p>

        <h3>Why Times New Roman on iOS?</h3>
        Apple does what it wants.

        <h3>Aggregates (Overall Leaderboards)</h3>
        <p>The level groups are mostly obvious, and respect the rule of counting only
          the higher of the pairs for s6 and peyg, but individually for medals</p>
        <p>The movement group is intended to be hover-based movement levels, and was defined in Nov 2020:</p>
        <p>b3 b3s b4 b6 b6s r1 r2 r3 r4 r4s r5 g1s p2 p2s p3 p6s<br>s2 s2s s3 s4 s4s n1 n2 n6 n6s q3 q4 q6 c</p>

        <br>
        <p style="color: #e47f3b"><i>this app was made by shoutplenty (<a href='https://github.com/pyorot/sms-il-viewer'>v1.2</a>)</i></p>
      </div>

    </div>

    <script type="text/javascript" src="js/data.js"></script>
    <script type="text/javascript" src="js/load.js"></script>
    <script type="text/javascript" src="js/page.js"></script>
    <script type="text/javascript" src="js/nav.js"></script>
    <script type="text/javascript" src="js/table.js"></script>
  </body>
</html>
